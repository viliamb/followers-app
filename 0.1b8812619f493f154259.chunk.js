webpackJsonp([0],{"+DIC":function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=e("AP4T"),u=e("TS1d");l.Observable.prototype.mergeMap=u.a,l.Observable.prototype.flatMap=u.a},"970z":function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=e("AP4T"),u=e("6Xbx"),o=e("qgI0"),r=e("lI6h"),i=function(n){function t(t){n.call(this),this.observableFactory=t}return Object(u.__extends)(t,n),t.create=function(n){return new t(n)},t.prototype._subscribe=function(n){return new s(n,this.observableFactory)},t}(l.Observable),s=function(n){function t(t,e){n.call(this,t),this.factory=e,this.tryDefer()}return Object(u.__extends)(t,n),t.prototype.tryDefer=function(){try{this._callFactory()}catch(n){this._error(n)}},t.prototype._callFactory=function(){var n=this.factory();n&&this.add(Object(o.a)(this,n))},t}(r.a);l.Observable.defer=i.create},NzBy:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=e("AP4T"),u=e("CASk");l.Observable.fromPromise=u.a},W4CS:function(n,t,e){"use strict";var l=e("6Xbx").__extends,u=e("6Xbx").__decorate,o=e("6Xbx").__param,r=e("TMwh"),i=e("LMZF"),s=e("AP4T");e("NzBy"),e("970z"),e("+DIC");var a=function(){function n(){}return n.DEFAULT_TOKEN_NAME="token",n.DEFAULT_HEADER_NAME="Authorization",n.HEADER_PREFIX_BEARER="Bearer ",n}();t.AuthConfigConsts=a;var c={headerName:a.DEFAULT_HEADER_NAME,headerPrefix:null,tokenName:a.DEFAULT_TOKEN_NAME,tokenGetter:function(){return localStorage.getItem(c.tokenName)},noJwtError:!1,noClientCheck:!1,globalHeaders:[],noTokenScheme:!1},d=function(){function n(n){this._config=function(n){for(var t,e=[],l=1;l<arguments.length;l++)e[l-1]=arguments[l];for(var u,o=function(n){if(null==n)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}(n),r=1;r<arguments.length;r++){for(var i in t=Object(arguments[r]))m.call(t,i)&&(o[i]=t[i]);if(Object.getOwnPropertySymbols){u=Object.getOwnPropertySymbols(t);for(var s=0;s<u.length;s++)y.call(t,u[s])&&(o[u[s]]=t[u[s]])}}return o}({},c,n=n||{}),this._config.headerPrefix?this._config.headerPrefix+=" ":this._config.headerPrefix=this._config.noTokenScheme?"":a.HEADER_PREFIX_BEARER,n.tokenName&&!n.tokenGetter&&(this._config.tokenGetter=function(){return localStorage.getItem(n.tokenName)})}return n.prototype.getConfig=function(){return this._config},n}();t.AuthConfig=d;var p=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return l(t,n),t}(Error);t.AuthHttpError=p;var h=function(){function n(n,t,e){var l=this;this.http=t,this.defOpts=e,this.config=n.getConfig(),this.tokenStream=new s.Observable(function(n){n.next(l.config.tokenGetter())})}return n.prototype.mergeOptions=function(n,t){var e=t||new r.RequestOptions;return this.config.globalHeaders&&this.setGlobalHeaders(this.config.globalHeaders,n),e.merge(new r.RequestOptions(n))},n.prototype.requestHelper=function(n,t){var e=new r.RequestOptions(n);return t&&(e=e.merge(t)),this.request(new r.Request(this.mergeOptions(e,this.defOpts)))},n.prototype.requestWithToken=function(n,t){if(this.config.noClientCheck||v(void 0,t))n.headers.set(this.config.headerName,this.config.headerPrefix+t);else if(!this.config.noJwtError)return new s.Observable(function(n){n.error(new p("No JWT present or has expired"))});return this.http.request(n)},n.prototype.setGlobalHeaders=function(n,t){t.headers||(t.headers=new r.Headers),n.forEach(function(n){var e=Object.keys(n)[0];t.headers.set(e,n[e])})},n.prototype.request=function(n,t){var e=this;if("string"==typeof n)return this.get(n,t);var l=n;return s.Observable.defer(function(){var n=e.config.tokenGetter();return n instanceof Promise?s.Observable.fromPromise(n).mergeMap(function(n){return e.requestWithToken(l,n)}):e.requestWithToken(l,n)})},n.prototype.get=function(n,t){return this.requestHelper({body:"",method:r.RequestMethod.Get,url:n},t)},n.prototype.post=function(n,t,e){return this.requestHelper({body:t,method:r.RequestMethod.Post,url:n},e)},n.prototype.put=function(n,t,e){return this.requestHelper({body:t,method:r.RequestMethod.Put,url:n},e)},n.prototype.delete=function(n,t){return this.requestHelper({body:"",method:r.RequestMethod.Delete,url:n},t)},n.prototype.patch=function(n,t,e){return this.requestHelper({body:t,method:r.RequestMethod.Patch,url:n},e)},n.prototype.head=function(n,t){return this.requestHelper({body:"",method:r.RequestMethod.Head,url:n},t)},n.prototype.options=function(n,t){return this.requestHelper({body:"",method:r.RequestMethod.Options,url:n},t)},n}();h=u([i.Injectable()],h),t.AuthHttp=h;var f=function(){function n(){}return n.prototype.urlBase64Decode=function(n){var t=n.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}return this.b64DecodeUnicode(t)},n.prototype.b64decode=function(n){var t="";if((n=String(n).replace(/=+$/,"")).length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var e=0,l=void 0,u=void 0,o=0;u=n.charAt(o++);~u&&(l=e%4?64*l+u:u,e++%4)?t+=String.fromCharCode(255&l>>(-2*e&6)):0)u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(u);return t},n.prototype.b64DecodeUnicode=function(n){return decodeURIComponent(Array.prototype.map.call(this.b64decode(n),function(n){return"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)}).join(""))},n.prototype.decodeToken=function(n){var t=n.split(".");if(3!==t.length)throw new Error("JWT must have 3 parts");var e=this.urlBase64Decode(t[1]);if(!e)throw new Error("Cannot decode the token");return JSON.parse(e)},n.prototype.getTokenExpirationDate=function(n){var t;if(!(t=this.decodeToken(n)).hasOwnProperty("exp"))return null;var e=new Date(0);return e.setUTCSeconds(t.exp),e},n.prototype.isTokenExpired=function(n,t){var e=this.getTokenExpirationDate(n);return t=t||0,null!=e&&!(e.valueOf()>(new Date).valueOf()+1e3*t)},n}();function v(n,t){void 0===n&&(n=a.DEFAULT_TOKEN_NAME);var e=t||localStorage.getItem(n),l=new f;return null!=e&&!l.isTokenExpired(e)}t.JwtHelper=f,t.tokenNotExpired=v,t.AUTH_PROVIDERS=[{provide:h,deps:[r.Http,r.RequestOptions],useFactory:function(n,t){return new h(new d,n,t)}}],t.provideAuth=function(n){return[{provide:h,deps:[r.Http,r.RequestOptions],useFactory:function(t,e){return new h(new d(n),t,e)}}]};var g,m=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,b=g=function(){function n(n){if(n)throw new Error("AuthModule is already loaded. Import it in the AppModule only")}return n.forRoot=function(n){return{ngModule:g,providers:[{provide:d,useValue:n}]}},n}();b=g=u([i.NgModule({imports:[r.HttpModule],providers:[h,f]}),o(0,i.Optional()),o(0,i.SkipSelf())],b),t.AuthModule=b},mPPh:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=e("LMZF"),u=function(){},o=e("UHIZ"),r=e("Un6q"),i=e("TMwh"),s=e("W4CS"),a=(e("dmC+"),function(){function n(n){this.http=n}return n.prototype.login=function(n){return this.http.post("api/authenticate",JSON.stringify(n)).map(function(n){var t=n.json();return!(!t||!t.token||(localStorage.setItem("token",t.token),0))})},n.prototype.logout=function(){localStorage.removeItem("token")},n.prototype.isLoggedIn=function(){return Object(s.tokenNotExpired)()},Object.defineProperty(n.prototype,"currentUser",{get:function(){var n=localStorage.getItem("token");return n?(new s.JwtHelper).decodeToken(n):null},enumerable:!0,configurable:!0}),n}()),c=function(){function n(n){this.authService=n,this.authServiceAlpha=n}return n.prototype.ngOnInit=function(){},n}(),d=l["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function p(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,["\n  Welcome ","\n"]))],null,function(n,t){n(t,1,0,t.component.authServiceAlpha.currentUser.name)})}function h(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,e){var u=!0;return"click"===t&&(u=!1!==l["\u0275nov"](n,2).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),l["\u0275did"](2,671744,null,0,o.m,[o.k,o.a,r.g],{routerLink:[0,"routerLink"]},null),l["\u0275pad"](3,1),(n()(),l["\u0275ted"](-1,null,["Admin"]))],function(n,t){n(t,2,0,n(t,3,0,"/auth/admin"))},function(n,t){n(t,1,0,l["\u0275nov"](t,2).target,l["\u0275nov"](t,2).href)})}function f(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,e){var u=!0;return"click"===t&&(u=!1!==l["\u0275nov"](n,2).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),l["\u0275did"](2,671744,null,0,o.m,[o.k,o.a,r.g],{routerLink:[0,"routerLink"]},null),l["\u0275pad"](3,1),(n()(),l["\u0275ted"](-1,null,["Login"]))],function(n,t){n(t,2,0,n(t,3,0,"/auth/login"))},function(n,t){n(t,1,0,l["\u0275nov"](t,2).target,l["\u0275nov"](t,2).href)})}function v(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"li",[],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"a",[],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.authServiceAlpha.logout()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["Logout"]))],null,null)}function g(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Home Page"])),(n()(),l["\u0275ted"](-1,null,["\n"])),(n()(),l["\u0275and"](16777216,null,null,1,null,p)),l["\u0275did"](4,16384,null,0,r.i,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275ted"](-1,null,["\n"])),(n()(),l["\u0275eld"](6,0,null,null,10,"ul",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\n  "])),(n()(),l["\u0275and"](16777216,null,null,1,null,h)),l["\u0275did"](9,16384,null,0,r.i,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275ted"](-1,null,["\n  "])),(n()(),l["\u0275and"](16777216,null,null,1,null,f)),l["\u0275did"](12,16384,null,0,r.i,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275ted"](-1,null,["\n  "])),(n()(),l["\u0275and"](16777216,null,null,1,null,v)),l["\u0275did"](15,16384,null,0,r.i,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275ted"](-1,null,["\n"])),(n()(),l["\u0275ted"](-1,null,["\n"]))],function(n,t){var e=t.component;n(t,4,0,e.authServiceAlpha.isLoggedIn()),n(t,9,0,e.authServiceAlpha.isLoggedIn()&&e.authServiceAlpha.currentUser.admin),n(t,12,0,!e.authServiceAlpha.isLoggedIn()),n(t,15,0,e.authServiceAlpha.isLoggedIn())},null)}var m=l["\u0275ccf"]("app-home-auth",c,function(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"app-home-auth",[],null,null,null,g,d)),l["\u0275did"](1,114688,null,0,c,[a],null,null)],function(n,t){n(t,1,0)},null)},{},{},[]),y=(e("GQSG"),function(){function n(n){this.http=n}return n.prototype.getOrders=function(){var n=new i.Headers,t=localStorage.getItem("token");n.append("Authorization","Bearer "+t);var e=new i.RequestOptions({headers:n});return this.http.get("api/orders",e).map(function(n){return n.json()})},n}()),b=function(){function n(n){this.ordersService=n}return n.prototype.ngOnInit=function(){var n=this;this.ordersService.getOrders().subscribe(function(t){n.orders=t})},n}(),w=l["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function I(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"li",[],null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,["",""]))],null,function(n,t){n(t,1,0,t.context.$implicit)})}function O(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,4,"ul",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\n  "])),(n()(),l["\u0275and"](16777216,null,null,1,null,I)),l["\u0275did"](3,802816,null,0,r.h,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),l["\u0275ted"](-1,null,["\n"]))],function(n,t){n(t,3,0,t.component.orders)},null)}function _(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Administration"])),(n()(),l["\u0275ted"](-1,null,["\n"])),(n()(),l["\u0275eld"](3,0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Orders"])),(n()(),l["\u0275ted"](-1,null,["\n"])),(n()(),l["\u0275and"](16777216,null,null,1,null,O)),l["\u0275did"](7,16384,null,0,r.i,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275ted"](-1,null,["\n\n\n"]))],function(n,t){n(t,7,0,t.component.orders)},null)}var k=l["\u0275ccf"]("app-admin",b,function(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"app-admin",[],null,null,null,_,w)),l["\u0275did"](1,114688,null,0,b,[y],null,null)],function(n,t){n(t,1,0)},null)},{},{},[]),R=function(){function n(){}return n.prototype.ngOnInit=function(){},n}(),S=l["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function E(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\n  no-access works!\n"])),(n()(),l["\u0275ted"](-1,null,["\n"]))],null,null)}var A=l["\u0275ccf"]("app-no-access",R,function(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"app-no-access",[],null,null,null,E,S)),l["\u0275did"](1,114688,null,0,R,[],null,null)],function(n,t){n(t,1,0)},null)},{},{},[]),C=e("0nO6"),T=function(){function n(n,t,e){this.router=n,this.route=t,this.authService=e}return n.prototype.signIn=function(n){var t=this;this.authService.login(n).subscribe(function(n){if(n){var e=t.route.snapshot.queryParamMap.get("returnUrl");t.router.navigate([e||"/auth"])}else t.invalidLogin=!0})},n.prototype.ngOnInit=function(){},n}(),q=l["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function x(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\n            Invalid username or password.\n          "]))],null,null)}function P(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,47,"div",[["class","container"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\n"])),(n()(),l["\u0275eld"](2,0,null,null,44,"div",[["class","login-container"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\n    "])),(n()(),l["\u0275eld"](4,0,null,null,0,"div",[["id","output"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\n    "])),(n()(),l["\u0275eld"](6,0,null,null,0,"div",[["class","avatar"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\n    "])),(n()(),l["\u0275eld"](8,0,null,null,37,"div",[["class","form-box"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\n        "])),(n()(),l["\u0275eld"](10,0,null,null,34,"form",[["class","form-signin"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,t,e){var u=!0,o=n.component;return"submit"===t&&(u=!1!==l["\u0275nov"](n,12).onSubmit(e)&&u),"reset"===t&&(u=!1!==l["\u0275nov"](n,12).onReset()&&u),"ngSubmit"===t&&(u=!1!==o.signIn(l["\u0275nov"](n,12).value)&&u),u},null,null)),l["\u0275did"](11,16384,null,0,C.n,[],null,null),l["\u0275did"](12,4210688,[["f",4]],0,C.j,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),l["\u0275prd"](2048,null,C.b,null,[C.j]),l["\u0275did"](14,16384,null,0,C.i,[C.b],null,null),(n()(),l["\u0275ted"](-1,null,["\n          "])),(n()(),l["\u0275eld"](16,0,null,null,1,"h2",[["class","form-signin-heading"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\n            Please sign in\n          "])),(n()(),l["\u0275ted"](-1,null,["\n\n          "])),(n()(),l["\u0275and"](16777216,null,null,1,null,x)),l["\u0275did"](20,16384,null,0,r.i,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275ted"](-1,null,["\n            \n          "])),(n()(),l["\u0275eld"](22,0,null,null,1,"label",[["class","sr-only"],["for","inputEmail"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Email address"])),(n()(),l["\u0275ted"](-1,null,["\n          "])),(n()(),l["\u0275eld"](25,0,null,null,5,"input",[["class","form-control"],["id","inputEmail"],["name","email"],["ngModel",""],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var u=!0;return"input"===t&&(u=!1!==l["\u0275nov"](n,26)._handleInput(e.target.value)&&u),"blur"===t&&(u=!1!==l["\u0275nov"](n,26).onTouched()&&u),"compositionstart"===t&&(u=!1!==l["\u0275nov"](n,26)._compositionStart()&&u),"compositionend"===t&&(u=!1!==l["\u0275nov"](n,26)._compositionEnd(e.target.value)&&u),u},null,null)),l["\u0275did"](26,16384,null,0,C.c,[l.Renderer2,l.ElementRef,[2,C.a]],null,null),l["\u0275prd"](1024,null,C.f,function(n){return[n]},[C.c]),l["\u0275did"](28,671744,null,0,C.k,[[2,C.b],[8,null],[8,null],[2,C.f]],{name:[0,"name"],model:[1,"model"]},null),l["\u0275prd"](2048,null,C.g,null,[C.k]),l["\u0275did"](30,16384,null,0,C.h,[C.g],null,null),(n()(),l["\u0275ted"](-1,null,["\n            \n          "])),(n()(),l["\u0275eld"](32,0,null,null,1,"label",[["class","sr-only"],["for","inputPassword"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Email address"])),(n()(),l["\u0275ted"](-1,null,["\n          "])),(n()(),l["\u0275eld"](35,0,null,null,5,"input",[["class","form-control"],["id","inputPassword"],["name","password"],["ngModel",""],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var u=!0;return"input"===t&&(u=!1!==l["\u0275nov"](n,36)._handleInput(e.target.value)&&u),"blur"===t&&(u=!1!==l["\u0275nov"](n,36).onTouched()&&u),"compositionstart"===t&&(u=!1!==l["\u0275nov"](n,36)._compositionStart()&&u),"compositionend"===t&&(u=!1!==l["\u0275nov"](n,36)._compositionEnd(e.target.value)&&u),u},null,null)),l["\u0275did"](36,16384,null,0,C.c,[l.Renderer2,l.ElementRef,[2,C.a]],null,null),l["\u0275prd"](1024,null,C.f,function(n){return[n]},[C.c]),l["\u0275did"](38,671744,null,0,C.k,[[2,C.b],[8,null],[8,null],[2,C.f]],{name:[0,"name"],model:[1,"model"]},null),l["\u0275prd"](2048,null,C.g,null,[C.k]),l["\u0275did"](40,16384,null,0,C.h,[C.g],null,null),(n()(),l["\u0275ted"](-1,null,["\n          \n          "])),(n()(),l["\u0275eld"](42,0,null,null,1,"button",[["class","btn btn-info btn-block login"],["type","submit"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Login"])),(n()(),l["\u0275ted"](-1,null,["\n        "])),(n()(),l["\u0275ted"](-1,null,["\n    "])),(n()(),l["\u0275ted"](-1,null,["\n"])),(n()(),l["\u0275ted"](-1,null,["\n"]))],function(n,t){n(t,20,0,t.component.invalidLogin),n(t,28,0,"email",""),n(t,38,0,"password","")},function(n,t){n(t,10,0,l["\u0275nov"](t,14).ngClassUntouched,l["\u0275nov"](t,14).ngClassTouched,l["\u0275nov"](t,14).ngClassPristine,l["\u0275nov"](t,14).ngClassDirty,l["\u0275nov"](t,14).ngClassValid,l["\u0275nov"](t,14).ngClassInvalid,l["\u0275nov"](t,14).ngClassPending),n(t,25,0,l["\u0275nov"](t,30).ngClassUntouched,l["\u0275nov"](t,30).ngClassTouched,l["\u0275nov"](t,30).ngClassPristine,l["\u0275nov"](t,30).ngClassDirty,l["\u0275nov"](t,30).ngClassValid,l["\u0275nov"](t,30).ngClassInvalid,l["\u0275nov"](t,30).ngClassPending),n(t,35,0,l["\u0275nov"](t,40).ngClassUntouched,l["\u0275nov"](t,40).ngClassTouched,l["\u0275nov"](t,40).ngClassPristine,l["\u0275nov"](t,40).ngClassDirty,l["\u0275nov"](t,40).ngClassValid,l["\u0275nov"](t,40).ngClassInvalid,l["\u0275nov"](t,40).ngClassPending)})}var M=l["\u0275ccf"]("app-login",T,function(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"app-login",[],null,null,null,P,q)),l["\u0275did"](1,114688,null,0,T,[o.k,o.a,a],null,null)],function(n,t){n(t,1,0)},null)},{},{},[]),H=function(){function n(){}return n.prototype.ngOnInit=function(){},n}(),D=l["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function N(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\n  logout works!\n"])),(n()(),l["\u0275ted"](-1,null,["\n"]))],null,null)}var j=l["\u0275ccf"]("app-logout",H,function(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"app-logout",[],null,null,null,N,D)),l["\u0275did"](1,114688,null,0,H,[],null,null)],function(n,t){n(t,1,0)},null)},{},{},[]),L=e("6Xbx"),F=e("TO51"),U=e("xIGM"),G=e("qLnt"),B=function(n){function t(t,e){n.call(this,t,e),this.scheduler=t,this.work=e}return Object(L.__extends)(t,n),t.prototype.schedule=function(t,e){return void 0===e&&(e=0),e>0?n.prototype.schedule.call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,e){return e>0||this.closed?n.prototype.execute.call(this,t,e):this._execute(t,e)},t.prototype.requestAsyncId=function(t,e,l){return void 0===l&&(l=0),null!==l&&l>0||null===l&&this.delay>0?n.prototype.requestAsyncId.call(this,t,e,l):t.flush(this)},t}(function(n){function t(t,e){n.call(this,t,e),this.scheduler=t,this.work=e,this.pending=!1}return Object(L.__extends)(t,n),t.prototype.schedule=function(n,t){if(void 0===t&&(t=0),this.closed)return this;this.state=n,this.pending=!0;var e=this.id,l=this.scheduler;return null!=e&&(this.id=this.recycleAsyncId(l,e,t)),this.delay=t,this.id=this.id||this.requestAsyncId(l,this.id,t),this},t.prototype.requestAsyncId=function(n,t,e){return void 0===e&&(e=0),U.a.setInterval(n.flush.bind(n,this),e)},t.prototype.recycleAsyncId=function(n,t,e){if(void 0===e&&(e=0),null!==e&&this.delay===e&&!1===this.pending)return t;U.a.clearInterval(t)},t.prototype.execute=function(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var e=this._execute(n,t);if(e)return e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,t){var e=!1,l=void 0;try{this.work(n)}catch(n){e=!0,l=!!n&&n||new Error(n)}if(e)return this.unsubscribe(),l},t.prototype._unsubscribe=function(){var n=this.id,t=this.scheduler,e=t.actions,l=e.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==l&&e.splice(l,1),null!=n&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null},t}(function(n){function t(t,e){n.call(this)}return Object(L.__extends)(t,n),t.prototype.schedule=function(n,t){return void 0===t&&(t=0),this},t}(G.a))),J=new(function(n){function t(){n.apply(this,arguments)}return Object(L.__extends)(t,n),t}(function(n){function t(){n.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return Object(L.__extends)(t,n),t.prototype.flush=function(n){var t=this.actions;if(this.active)t.push(n);else{var e;this.active=!0;do{if(e=n.execute(n.state,n.delay))break}while(n=t.shift());if(this.active=!1,e){for(;n=t.shift();)n.unsubscribe();throw e}}},t}(function(){function n(t,e){void 0===e&&(e=n.now),this.SchedulerAction=t,this.now=e}return n.prototype.schedule=function(n,t,e){return void 0===t&&(t=0),new this.SchedulerAction(this,n).schedule(e,t)},n.now=Date.now?Date.now:function(){return+new Date},n}())))(B),V=e("YRqN"),z=e("Upor"),W=e("jaVc"),K=function(n){function t(t,e,l){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===e&&(e=Number.POSITIVE_INFINITY),n.call(this),this.scheduler=l,this._events=[],this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e}return Object(L.__extends)(t,n),t.prototype.next=function(t){var e=this._getNow();this._events.push(new X(e,t)),this._trimBufferThenGetEvents(),n.prototype.next.call(this,t)},t.prototype._subscribe=function(n){var t,e=this._trimBufferThenGetEvents(),l=this.scheduler;if(this.closed)throw new z.a;this.hasError?t=G.a.EMPTY:this.isStopped?t=G.a.EMPTY:(this.observers.push(n),t=new W.a(this,n)),l&&n.add(n=new V.a(n,l));for(var u=e.length,o=0;o<u&&!n.closed;o++)n.next(e[o].value);return this.hasError?n.error(this.thrownError):this.isStopped&&n.complete(),t},t.prototype._getNow=function(){return(this.scheduler||J).now()},t.prototype._trimBufferThenGetEvents=function(){for(var n=this._getNow(),t=this._bufferSize,e=this._windowTime,l=this._events,u=l.length,o=0;o<u&&!(n-l[o].time<e);)o++;return u>t&&(o=Math.max(o,u-t)),o>0&&l.splice(0,o),l},t}(F.a),X=function(n,t){this.time=n,this.value=t},Z=e("E9/g"),Y=e("2kvl"),Q=e("Ecq+"),$=function(){function n(n){if(this.total=n,this.total<0)throw new Y.a}return n.prototype.call=function(n,t){return t.subscribe(new nn(n,this.total))},n}(),nn=function(n){function t(t,e){n.call(this,t),this.total=e,this.count=0}return Object(L.__extends)(t,n),t.prototype._next=function(n){var t=this.total,e=++this.count;e<=t&&(this.destination.next(n),e===t&&(this.destination.complete(),this.unsubscribe()))},t}(Z.a),tn=function(){function n(n){this.response=(function(n){return function(n){return function(t){return 0===n?new Q.a:t.lift(new $(n))}}(n)(this)}).call(new K(1),1),this.readyState=i.ReadyState.Open,this.request=n}return n.prototype.mockRespond=function(n){if(this.readyState===i.ReadyState.Done||this.readyState===i.ReadyState.Cancelled)throw new Error("Connection has already been resolved");this.readyState=i.ReadyState.Done,this.response.next(n),this.response.complete()},n.prototype.mockDownload=function(n){},n.prototype.mockError=function(n){this.readyState=i.ReadyState.Done,this.response.error(n)},n}(),en=function(){function n(){var n=this;this.connectionsArray=[],this.connections=new F.a,this.connections.subscribe(function(t){return n.connectionsArray.push(t)}),this.pendingConnections=new F.a}return n.prototype.verifyNoPendingRequests=function(){var n=0;if(this.pendingConnections.subscribe(function(t){return n++}),n>0)throw new Error(n+" pending connections to be resolved")},n.prototype.resolveAllConnections=function(){this.connections.subscribe(function(n){return n.readyState=4})},n.prototype.createConnection=function(n){if(!(n&&n instanceof i.Request))throw new Error("createConnection requires an instance of Request, got "+n);var t=new tn(n);return this.connections.next(t),t},n}();function ln(n,t){var e="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6Ik1vc2ggSGFtZWRhbmkiLCJhZG1pbiI6dHJ1ZX0.iy8az1ZDe-_hS8GLDKsQKgPHvWpHl0zkQBqy1QIPOkA";return n.connections.subscribe(function(n){setTimeout(function(){if(n.request.url.endsWith("api/authenticate")&&n.request.method===i.RequestMethod.Post){var t=JSON.parse(n.request.getBody());n.mockRespond(new i.Response(new i.ResponseOptions("will@domain.com"===t.email&&"1234"===t.password?{status:200,body:{token:e}}:{status:200})))}n.request.url.endsWith("api/orders")&&n.request.method===i.RequestMethod.Get&&(n.request.headers.get("Authorization")==="Bearer "+e?n.mockRespond(new i.Response(new i.ResponseOptions({status:200,body:[1,2,3]}))):n.mockRespond(new i.Response(new i.ResponseOptions({status:401}))))},1e3)}),new i.Http(n,t)}var un=function(){function n(n,t){this.authService=n,this.router=t}return n.prototype.canActivate=function(n,t){return!!this.authService.isLoggedIn()||(this.router.navigate(["/auth/login"],{queryParams:{returnUrl:t.url}}),!1)},n}(),on=function(){function n(n,t){this.router=n,this.authService=t}return n.prototype.canActivate=function(n,t){var e=this.authService.currentUser;return!(!e||!e.admin)||(this.router.navigate(["auth/no-access"]),!1)},n}();e.d(t,"AuthModuleNgFactory",function(){return rn});var rn=l["\u0275cmf"](u,[],function(n){return l["\u0275mod"]([l["\u0275mpd"](512,l.ComponentFactoryResolver,l["\u0275CodegenComponentFactoryResolver"],[[8,[m,k,A,M,j]],[3,l.ComponentFactoryResolver],l.NgModuleRef]),l["\u0275mpd"](4608,r.k,r.j,[l.LOCALE_ID,[2,r.o]]),l["\u0275mpd"](4608,C.o,C.o,[]),l["\u0275mpd"](4608,en,en,[]),l["\u0275mpd"](4608,i.BaseRequestOptions,i.BaseRequestOptions,[]),l["\u0275mpd"](5120,i.Http,ln,[en,i.BaseRequestOptions]),l["\u0275mpd"](4608,y,y,[i.Http]),l["\u0275mpd"](4608,a,a,[i.Http]),l["\u0275mpd"](4608,un,un,[a,o.k]),l["\u0275mpd"](4608,on,on,[o.k,a]),l["\u0275mpd"](4608,s.AuthHttp,s.AuthHttp,[s.AuthConfig,i.Http,i.RequestOptions]),l["\u0275mpd"](512,r.b,r.b,[]),l["\u0275mpd"](512,o.n,o.n,[[2,o.s],[2,o.k]]),l["\u0275mpd"](512,C.m,C.m,[]),l["\u0275mpd"](512,C.e,C.e,[]),l["\u0275mpd"](512,u,u,[]),l["\u0275mpd"](1024,o.i,function(){return[[{path:"",component:c},{path:"admin",component:b,canActivate:[un,on]},{path:"no-access",component:R},{path:"login",component:T},{path:"logout",component:H}]]},[])])})}});